<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Entrenamiento</title>
<link rel="stylesheet" href="./style.css?v=32">
<script src="./app.js?v=32" defer></script>
<link rel="manifest" href="./manifest.json?v=32">
<meta name="theme-color" content="#121212">
</head>

<body>

  <!-- VISTA MENÚ -->
  <div id="menu">
    <h1>Entrenamiento</h1>
    <button onclick="abrirDia('torso_fuerza')">Día 1 – Torso Fuerza</button>
    <button onclick="abrirDia('pierna_fuerza')">Día 2 – Pierna Fuerza</button>
    <button onclick="abrirDia('torso_hipertrofia')">Día 3 – Torso Hipertrofia</button>
    <button onclick="abrirDia('pierna_hipertrofia')">Día 4 – Pierna Hipertrofia</button>
    <button onclick="abrirDia('potencia')">Día 5 – Potencia</button>
    <button onclick="abrirHistorial()">Historial</button>  
    <button onclick="abrirMedidas()">Medidas corporales</button>
    <button onclick="forzarActualizacion()">Forzar actualización</button>
  </div>

  
  <!-- VISTA RESULTADO -->
  <div id="resultado" class="oculto">
    <h2>Resultado</h2>
    <div id="resumen"></div>
    <button onclick="volverMenu()">Volver al menú</button>
  </div>
  
  <!-- VISTA ENTRENAMIENTO -->
<div id="pantalla-dia" class="oculto">
  <h2 id="titulo-dia"></h2>
  <div id="contenido"></div>
  
  <!-- CRONOMETRO -->
<div id="hit-crono" class="oculto">
  <h3>HIT Cronómetro</h3>
   <label for="hit-tipo">Tipo de HIT:</label>
  <select id="hit-tipo">
    <option value="HIT 1">HIT 1</option>
    <option value="HIT 2">HIT 2</option>
  </select>

  <h1 id="tiempo-hit">0:00</h1>
  <button onclick="iniciarHIT()">Iniciar</button>
  <button onclick="pausarHIT()">Pausar</button>
  <button onclick="resetHIT()">Reset</button>
</div>


  <!-- TEMPORIZADOR -->
<div id="temporizador" class="ejercicio">
  <h3>Temporizadores</h3>

  <!-- Lista de timers personalizados -->
  <div id="lista-timers"></div>

  <!-- Botón para añadir un temporizador nuevo -->
  <button onclick="añadirTimer()">Añadir temporizador</button>

  <!-- Temporizador grande -->
  <h1 id="tiempo">0:00</h1>

  <!-- Controles -->
  <button onclick="pausarTemporizador()">Pausar</button>
  <button onclick="resetTemporizador()">Reset</button>
</div>


<div id="modal-timer" class="modal oculto">
  <div class="modal-content">
    <h2>⏱ Tiempo finalizado</h2>
    <button onclick="resetDesdeModal()">Resetear</button>
  </div>
</div>

  <!-- AÑADIR EJERCICIO (AQUÍ) -->
  <div class="ejercicio">
    <h3>Añadir ejercicio</h3>

    <select id="dia-ejercicio">
      <option value="torso_fuerza">Día 1 – Torso Fuerza</option>
      <option value="pierna_fuerza">Día 2 – Pierna Fuerza</option>
      <option value="torso_hipertrofia">Día 3 – Torso Hipertrofia</option>
      <option value="pierna_hipertrofia">Día 4 – Pierna Hipertrofia</option>
      <option value="potencia">Día 5 – Potencia</option>
    </select>

    <input id="nuevo-nombre" placeholder="Ejercicio">
    <input id="nuevo-peso" type="number" placeholder="Peso">
    <input id="nuevo-series" type="number" placeholder="Series">
    <input id="nuevo-reps-min" type="number" placeholder="Reps mín">
    <input id="nuevo-reps-max" type="number" placeholder="Reps máx">
    <input type="checkbox" id="nuevo-fallo">Al fallo
    <input type="checkbox" id="nuevo-no-progresar">No progresar
    <button onclick="añadirEjercicio()">Añadir ejercicio</button>
  </div>

  <button onclick="finalizarDia()">Finalizar sesión</button>
  <button onclick="volverMenu()">Volver</button>
  <button class="danger" onclick="borrarRutinaDia()">Borrar rutina completa</button>  
</div>  
  
  <!-- VISTA HISTORIAL -->
  <div id="pantalla-historial" class="oculto">
    <h2>Historial de entrenamientos</h2>
    <div id="lista-historial"></div>
    <button onclick="volverMenu()">Volver al menú</button>
    <button onclick="borrarTodoHistorial()">Borrar todo</button>
<button onclick="limpiarHistorialDuplicados()">Limpiar duplicados</button>
  </div>
 
  <div id="pantalla-medidas" class="oculto">
  <h2>Medidas corporales</h2>

  <div class="ejercicio">
    <label>Peso (kg)</label>
    <input id="peso" type="number" step="0.1">

    <label>Altura (cm)</label>
    <input id="altura" type="number">

    <label>Cintura (cm)</label>
    <input id="cintura" type="number">

    <label>Cadera (cm)</label>
    <input id="cadera" type="number">

    <label>Pecho (cm)</label>
    <input id="pecho" type="number">

    <label>Brazo relajado (cm)</label>
    <input id="brazo_relajado" type="number">

    <label>Brazo contraído (cm)</label>
    <input id="brazo_contraido" type="number">

    <label>Muslo (cm)</label>
    <input id="muslo" type="number">

    <button onclick="guardarMedidas()">Guardar medidas</button>
  </div>

  <h3>Historial</h3>
  <div id="lista-medidas"></div>

  <button onclick="borrarTodoHistorialMedidas()">Borrar historial de medidas</button>
  <button onclick="volverMenu()">Volver al menú</button>
</div>


  <!-- DETALLE SESIÓN -->
<div id="pantalla-detalle" class="oculto">
  <h2>Detalle del entrenamiento</h2>
  <div id="detalle-sesion"></div>
  <button onclick="volverHistorial()">Volver al historial</button>
</div>
 

<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('sw.js')
      .then(reg => console.log('Service Worker registrado en:', reg.scope))
      .catch(err => console.log('Error al registrar SW:', err));
  });
}
</script>
</body>
</html>
